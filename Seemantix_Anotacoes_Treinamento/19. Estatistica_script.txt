# -*- coding: utf-8 -*-
"""Untitled2.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1N2qkXPED2No0LrqK4k57JabHm-4cYRaf

Importação das bibliotecas
"""

import pandas as pd
import numpy as np
import statistics as st

df = pd.read_csv('risco_credito.csv')
df.head(5)
df.drop(columns=['signo','perfil_facebook'],inplace=True)
df.dropna(inplace=True)
df.drop_duplicates(inplace=True)
df.loc[df.genero == 'f',['genero']] = 'Feminino'
df.loc[df.genero == 'm',['genero']] = 'Masculino'
df.head()

"""Revisão da descrição numérica"""

numericos = [df.t_risco,df.valor_emprestimo,df.prazo_pagamento,df.limite_credito,df.renda,df.n_emprestimos_inadiplentes]
analise_descritiva={'t_risco':
                    {
                        'Media':st.mean(numericos[0]),
                        'Mediana':st.median(numericos[0]),
                        'Variancia':round(st.variance(numericos[0]),2),
                        'Desvio_Padrão':round(st.stdev(numericos[0]),2),
                        'Minimo_Valor': min(numericos[0]),
                        'Máximo_Valor':max(numericos[0])
                    },
                    'valor_emprestimo':{
                        'Media':st.mean(numericos[1]),
                        'Mediana':st.median(numericos[1]),
                        'Variancia':round(st.variance(numericos[1]),2),
                        'Desvio_Padrão':round(st.stdev(numericos[1]),2),
                        'Minimo_Valor': min(numericos[1]),
                        'Máximo_Valor':max(numericos[1])
                    },
                    'prazo_pagamento':{
                        'Media':st.mean(numericos[2]),
                        'Mediana':st.median(numericos[2]),
                        'Variancia':round(st.variance(numericos[2]),2),
                        'Desvio_Padrão':round(st.stdev(numericos[2])),
                        'Minimo_Valor': min(numericos[2]),
                        'Máximo_Valor':max(numericos[2])
                    },
                    'limite_credito':{
                        'Media':st.mean(numericos[3]),
                        'Mediana':st.median(numericos[3]),
                        'Variancia':round(st.variance(numericos[3]),2),
                        'Desvio_Padrão':round(st.stdev(numericos[3])),
                        'Minimo_Valor': min(numericos[3]),
                        'Máximo_Valor':max(numericos[3])
                    },
                    'renda':{
                         'Media':st.mean(numericos[4]),
                        'Mediana':st.median(numericos[4]),
                        'Variancia':round(st.variance(numericos[4]),2),
                        'Desvio_Padrão':round(st.stdev(numericos[4])),
                        'Minimo_Valor': min(numericos[4]),
                        'Máximo_Valor':max(numericos[4])
                    },
                    'n_emprestimos_inadiplentes':{
                        'Media':st.mean(numericos[5]),
                        'Mediana':st.median(numericos[5]),
                        'Variancia':round(st.variance(numericos[5]),2),
                        'Desvio_Padrão':round(st.stdev(numericos[5])),
                        'Minimo_Valor': min(numericos[5]),
                        'Máximo_Valor':max(numericos[5])
                    }
                  }
analise_descritiva

"""Coeficiente de variação

"""

renda=analise_descritiva.get("renda")
limite_credito=analise_descritiva.get("limite_credito")
n_emprestimos_inadiplentes=analise_descritiva.get("n_emprestimos_inadiplentes")
prazo_pagamento=analise_descritiva.get("prazo_pagamento")
t_risco=analise_descritiva.get("t_risco")
valor_emprestimo=analise_descritiva.get("valor_emprestimo")

coeficente_variacao_renda = round((renda.get("Desvio_Padrão")/renda.get("Media"))*100,2)
coeficente_variacao_limite_credito = round((limite_credito.get("Desvio_Padrão")/renda.get("Media"))*100,2)
coeficente_variacao_n_emprestimos_inadiplentes = round((n_emprestimos_inadiplentes.get("Desvio_Padrão")/renda.get("Media"))*100,2)
coeficente_variacao_prazo_pagamento = round((prazo_pagamento.get("Desvio_Padrão")/renda.get("Media"))*100,2)
coeficente_variacao_t_risco = round((t_risco.get("Desvio_Padrão")/renda.get("Media"))*100,2)
coeficente_variacao_valor_emprestimo = round((valor_emprestimo.get("Desvio_Padrão")/renda.get("Media"))*100,2)

print("COEFICIENTE DE VARIAÇÃO")
print(coeficente_variacao_renda)
print(coeficente_variacao_limite_credito)
print(coeficente_variacao_n_emprestimos_inadiplentes)
print(coeficente_variacao_prazo_pagamento)
print(coeficente_variacao_t_risco)
print(coeficente_variacao_valor_emprestimo)

df.loc[df.default == True, ['default']] = 1
df.loc[df.default == False, ['default']] = 0
df.head()
corre = df[['t_risco','renda']]
print(corre.corr())
corre = df[['t_risco','limite_credito']]
print(corre.corr())
corre = df[['t_risco','n_emprestimos_inadiplentes']]
print(corre.corr())
corre = df[['t_risco','prazo_pagamento']]
print(corre.corr())
corre = df[['t_risco','valor_emprestimo']]
print(corre.corr())

"""Fatores que influenciam no risco de crédito:
De acordo com o tratamento acima, nenhum dos fatores elencados influenciam no risco de crédito
"""

 

ok